(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/logo.3b5bbf27.png"},20:function(e,t,a){e.exports=a(31)},26:function(e,t,a){},27:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(17),l=a.n(o),s=a(32),i=(a(26),a(11)),c=a(4),u=a(5),m=a(7),d=a(6),b=a(8),p=a(2),g=a(12),h=a.n(g),f=(a(27),function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.action,a=e.id;return n.a.createElement(r.Fragment,null,n.a.createElement("label",{className:"send-books__label"}),n.a.createElement("input",{type:"submit",className:"Send-books__button",onClick:t,id:a}))}}]),t}(r.Component)),k=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.submitBook,r=e.getTitleValue,o=e.getAuthorValue,l=e.getGenreValue,s=e.getPriceValue,i=e.submitMessage,c=e.errorMessage;return n.a.createElement("div",{className:"Form__container"},n.a.createElement("form",{className:"Add-books__form",ref:t},n.a.createElement("label",{htmlFor:"title",className:"Form__title-label"},"Title "),n.a.createElement("input",{id:"title",className:"Form__title-input",type:"text",onKeyUp:r}),n.a.createElement("label",{htmlFor:"author",className:"Form__author-label"},"Author "),n.a.createElement("input",{id:"author",className:"Form__author-input",type:"text",onKeyUp:o}),n.a.createElement("label",{htmlFor:"genre",className:"Form__genre-label"},"Genre "),n.a.createElement("input",{id:"genre",className:"Form__genre-input",type:"text",onKeyUp:l}),n.a.createElement("label",{htmlFor:"price",className:"Form__price-label"},"Price "),n.a.createElement("input",{id:"price",className:"Form__price-input",type:"text",onKeyUp:s})),n.a.createElement("div",{className:"Error-message__container ".concat(c)},n.a.createElement("p",{className:"Error-message"},"*All fields are required")),n.a.createElement("div",{className:"Send-button__container"},n.a.createElement(f,{action:a})),n.a.createElement("div",{className:"S\x1dubmission-message__container ".concat(i)},n.a.createElement("p",{className:"Submission-message"},"The book was submitted successfully")))}}]),t}(r.Component),_=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.title,o=e.author,l=e.genre,s=e.price,i=e.removeBook,c=e.updateBooksWindow;return n.a.createElement(r.Fragment,null,n.a.createElement("li",{className:"Book__card"},n.a.createElement("div",{className:"Book-top__container"},n.a.createElement("div",{className:"Book__logo-container"},n.a.createElement("img",{className:"Book__logo",src:h.a,alt:"logo"})),n.a.createElement("div",{className:"Action-buttons__container"},n.a.createElement("button",{type:"button",className:"Edit-button",value:t,onClick:c},n.a.createElement("i",{className:"fas fa-pen"})),n.a.createElement("button",{type:"button",className:"Delete-button",value:t,onClick:i},n.a.createElement("i",{className:"fas fa-trash-alt"})))),n.a.createElement("div",{className:"Book__info"},n.a.createElement("p",{className:"Book__title"},a),n.a.createElement("p",{className:"Book__author"},o),n.a.createElement("p",{className:"Book__genre"},l),n.a.createElement("p",{className:"Book__price"},s))))}}]),t}(r.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filterBooks,a=e.getSearchGenre,o=e.getSearchName,l=e.removeBook,s=e.updateBooksWindow,i=e.loadingMessage,c=e.noResultsMessage;return 0===t.length?n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"Search-fields__container ".concat(c)},n.a.createElement("label",{className:"Genre__label"}),n.a.createElement("input",{type:"text",className:"Genre__field",placeholder:"Search books by genre",onKeyUp:a}),n.a.createElement("label",{className:"Title__label"}),n.a.createElement("input",{type:"text",className:"Title__field",placeholder:"Search books by title",onKeyUp:o})),n.a.createElement("div",{className:"No-results-message__container"},n.a.createElement("p",{className:"No-results-message ".concat(c)},"There are no results that match your search"),n.a.createElement("p",{className:"Loading-message ".concat(i)},"Loading..."))):n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"Search-fields__container"},n.a.createElement("label",{className:"Genre__label"}),n.a.createElement("input",{type:"text",className:"Genre__field",placeholder:"Search books by genre",onKeyUp:a}),n.a.createElement("label",{className:"Title__label"}),n.a.createElement("input",{type:"text",className:"Title__field",placeholder:"Search books by title",onKeyUp:o})),n.a.createElement("div",{className:"Books__container"},t.map(function(e,t){return e.id=t,n.a.createElement(_,{key:e.id,id:e.id,title:e.title,author:e.author,genre:e.genre,price:e.price,removeBook:l,updateBooksWindow:s})})))}}]),t}(r.Component),E=a(33),N=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.toggleSubmitMessage;return n.a.createElement(r.Fragment,null,n.a.createElement(E.a,{exact:!0,to:"/",className:"Show-books__link",activeClassName:"is-active",onClick:e},n.a.createElement("p",{className:"Show-books"},"Show books")),n.a.createElement(E.a,{to:"/AddBooks",className:"Add-books__link",activeClassName:"is-active",onClick:e},n.a.createElement("p",{className:"Add-books__title"},"Add books")))}}]),t}(r.Component),y=a(34),O=a(19),j=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.show?n.a.createElement("div",{className:"Backdrop"},n.a.createElement("div",{className:"Modal"},this.props.children)):null}}]),t}(r.Component),B=[{title:"El calor tan cercano",author:"Maruja Torres",genre:"autobiographical",price:"16 \u20ac"},{title:"Un coraz\xf3n helado",author:"Almudena Grandes",genre:"historical novel",price:"18 \u20ac"},{title:"Il barone rampante",author:"Italo Calvino",genre:"fiction novel",price:"20 \u20ac"},{title:"\u0393\u03b9\u03b1\u03c4\u03af \u03c3\u03ba\u03cc\u03c4\u03c9\u03c3\u03b1 \u03c4\u03b7\u03bd \u03ba\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03b7 \u03bc\u03bf\u03c5 \u03c6\u03af\u03bb\u03b7",author:"A\u03bc\u03ac\u03bd\u03c4\u03b1 M\u03b9\u03c7\u03b1\u03bb\u03bf\u03c0\u03bf\u03cd\u03bb\u03bf\u03c5",genre:"historical novel",price:"25 \u20ac"}],S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={formInfo:{title:"",author:"",genre:"",price:""},nameValue:"",genreValue:"",booksArray:[],bookToUpdate:{},isOpen:!1,submitMessage:"Hidden",errorMessage:"Hidden",loadingMessage:"Visible",noResultsMessage:"Hidden"},a.form=n.a.createRef(),a.getTitleValue=a.getTitleValue.bind(Object(p.a)(Object(p.a)(a))),a.getAuthorValue=a.getAuthorValue.bind(Object(p.a)(Object(p.a)(a))),a.getGenreValue=a.getGenreValue.bind(Object(p.a)(Object(p.a)(a))),a.getPriceValue=a.getPriceValue.bind(Object(p.a)(Object(p.a)(a))),a.submitBook=a.submitBook.bind(Object(p.a)(Object(p.a)(a))),a.getSearchName=a.getSearchName.bind(Object(p.a)(Object(p.a)(a))),a.getSearchGenre=a.getSearchGenre.bind(Object(p.a)(Object(p.a)(a))),a.filterBooks=a.filterBooks.bind(Object(p.a)(Object(p.a)(a))),a.removeBook=a.removeBook.bind(Object(p.a)(Object(p.a)(a))),a.updateBooksWindow=a.updateBooksWindow.bind(Object(p.a)(Object(p.a)(a))),a.toggleModal=a.toggleModal.bind(Object(p.a)(Object(p.a)(a))),a.updateBook=a.updateBook.bind(Object(p.a)(Object(p.a)(a))),a.refreshPage=a.refreshPage.bind(Object(p.a)(Object(p.a)(a))),a.toggleSubmitMessage=a.toggleSubmitMessage.bind(Object(p.a)(Object(p.a)(a))),a.reassignBooksArray=a.reassignBooksArray.bind(Object(p.a)(Object(p.a)(a))),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.reassignBooksArray,5e3)}},{key:"reassignBooksArray",value:function(){0===B.length?this.setState({booksArray:B,loadingMessage:"Hidden",noResultsMessage:"Hidden"}):this.setState({booksArray:B,loadingMessage:"Hidden",noResultsMessage:"Visible"})}},{key:"getTitleValue",value:function(e){var t=this.state,a=t.formInfo,r=t.bookToUpdate,n=Object(i.a)({},a,{title:e.currentTarget.value}),o=Object(i.a)({},r,{title:e.currentTarget.value});this.setState({formInfo:n,bookToUpdate:o})}},{key:"getAuthorValue",value:function(e){var t=this.state,a=t.formInfo,r=t.bookToUpdate,n=Object(i.a)({},a,{author:e.currentTarget.value}),o=Object(i.a)({},r,{author:e.currentTarget.value});this.setState({formInfo:n,bookToUpdate:o})}},{key:"getGenreValue",value:function(e){var t=this.state,a=t.formInfo,r=t.bookToUpdate,n=Object(i.a)({},a,{genre:e.currentTarget.value}),o=Object(i.a)({},r,{genre:e.currentTarget.value});this.setState({formInfo:n,bookToUpdate:o})}},{key:"getPriceValue",value:function(e){var t=this.state,a=t.formInfo,r=t.bookToUpdate,n=Object(i.a)({},a,{price:e.currentTarget.value}),o=Object(i.a)({},r,{price:e.currentTarget.value});this.setState({formInfo:n,bookToUpdate:o})}},{key:"submitBook",value:function(e){e.preventDefault();var t=this.state.formInfo;""!==t.title&&""!==t.author&&""!==t.genre&&""!==t.price?(B.push(this.state.formInfo),this.setState({formInfo:{title:"",author:"",genre:"",price:""},submitMessage:"Visible",errorMessage:"Hidden",booksArray:B}),this.form.current.reset()):(this.setState({formInfo:{title:"",author:"",genre:"",price:""},errorMessage:"Visible",submitMessage:"Hidden"}),this.form.current.reset())}},{key:"toggleSubmitMessage",value:function(){this.setState({submitMessage:"Hidden",errorMessage:"Hidden"})}},{key:"updateBook",value:function(e){e.preventDefault();for(var t=e.currentTarget.id,a=this.state.bookToUpdate,r=0;r<B.length;r++){var n=B[r];if(parseInt(t)===n.id){var o=B.findIndex(function(e){return e.id===parseInt(t)});B[o]=a}}this.setState({booksArray:B}),this.toggleModal()}},{key:"getSearchName",value:function(e){var t=e.currentTarget.value;this.setState({nameValue:t})}},{key:"getSearchGenre",value:function(e){var t=e.currentTarget.value;this.setState({genreValue:t})}},{key:"filterBooks",value:function(){var e=this.state,t=e.genreValue,a=e.nameValue,r=e.booksArray;return Array.from(new Set(r.map(function(e){return e.title}))).map(function(e){return r.find(function(t){return t.title===e})}).filter(function(e){return e.genre.toUpperCase().includes(t.toUpperCase())}).filter(function(e){return e.title.toUpperCase().includes(a.toUpperCase())})}},{key:"removeBook",value:function(e){for(var t=e.currentTarget.value,a=0;a<B.length;a++){var r=B[a];if(parseInt(t)===r.id){var n=B.findIndex(function(e){return e.id===parseInt(t)});B.splice(n,1)}}this.setState({booksArray:B})}},{key:"updateBooksWindow",value:function(e){for(var t=e.currentTarget.value,a=0;a<B.length;a++){var r=B[a];if(parseInt(t)===r.id){var n=B.findIndex(function(e){return e.id===parseInt(t)}),o=B[n];this.setState({bookToUpdate:o})}}this.toggleModal()}},{key:"toggleModal",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"refreshPage",value:function(){window.location.reload()}},{key:"render",value:function(){var e=this.getTitleValue,t=this.getAuthorValue,a=this.getGenreValue,o=this.getPriceValue,l=this.submitBook,s=this.getSearchName,i=this.getSearchGenre,c=this.filterBooks,u=this.removeBook,m=this.form,d=this.updateBooksWindow,b=this.updateBook,p=this.toggleSubmitMessage,g=this.state,_=g.bookToUpdate,B=g.submitMessage,S=g.errorMessage,M=g.loadingMessage,T=g.noResultsMessage;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App__header"},n.a.createElement("div",{className:"Header-content__container"},n.a.createElement("div",{className:"Logo__container"},n.a.createElement(E.a,{to:"/",className:"Home-link"},n.a.createElement("img",{className:"Logo",src:h.a,alt:"logo"})),n.a.createElement("p",{className:"App__name"},"Beezy bookstore")),n.a.createElement("div",{className:"App__menu"},n.a.createElement(N,{toggleSubmitMessage:p})))),n.a.createElement("main",{className:"App__main-section"},n.a.createElement(y.a,null,n.a.createElement(r.Fragment,null,n.a.createElement(O.a,{exact:!0,path:"/",render:function(){return n.a.createElement(v,{getSearchName:s,getSearchGenre:i,filterBooks:c(),removeBook:u,updateBooksWindow:d,loadingMessage:M,noResultsMessage:T})}}),n.a.createElement(O.a,{path:"/AddBooks",render:function(){return n.a.createElement(k,{getTitleValue:e,getAuthorValue:t,getGenreValue:a,getPriceValue:o,submitBook:l,form:m,submitMessage:B,errorMessage:S})}})))),n.a.createElement(j,{show:this.state.isOpen,onClose:this.toggleModal},n.a.createElement("div",{className:"Form__container"},n.a.createElement("div",{className:"Modal__close-button-container"},n.a.createElement("button",{className:"Modal__close-button",onClick:this.toggleModal},n.a.createElement("i",{className:"fas fa-times"}))),n.a.createElement("form",{className:"Add-books__form"},n.a.createElement("label",{htmlFor:"title",className:"Form__title-label"},"Title: "),n.a.createElement("input",{id:"title",className:"Form__title-input",type:"text",onKeyUp:e,defaultValue:_.title,title:_.title}),n.a.createElement("label",{htmlFor:"author",className:"Form__author-label"},"Author: "),n.a.createElement("input",{type:"text",id:"author",className:"Form__author-input",onKeyUp:t,defaultValue:_.author}),n.a.createElement("label",{htmlFor:"genre",className:"Form__genre-label"},"Genre: "),n.a.createElement("input",{id:"genre",className:"Form__genre-input",type:"text",onKeyUp:a,defaultValue:_.genre}),n.a.createElement("label",{htmlFor:"price",className:"Form__price-label"},"Price: "),n.a.createElement("input",{id:"price",className:"Form__price-input",type:"text",onKeyUp:o,defaultValue:_.price})),n.a.createElement("div",{className:"Send-button__container"},n.a.createElement(f,{action:b,id:_.id})))))}}]),t}(r.Component);l.a.render(n.a.createElement(s.a,null,n.a.createElement(S,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.ed185100.chunk.js.map